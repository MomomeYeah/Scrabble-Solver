# Scrabble Solver AI Assistant Instructions

## Project Overview
This is a React-based Scrabble word finder implemented in TypeScript using Vite. The implementation is based on the 1988 paper "The World's Fastest Scrabble Program" with modern adaptations. The project uses a Trie data structure for efficient word lookups and scoring.

## Core Architecture

### Key Components
- `src/solver/` - Core solving algorithm implementation
  - `trie.ts` - Trie data structure for dictionary word lookup
  - `node.ts` - Trie node implementation
- `src/game/` - Game logic and board representation  
  - `board.ts` - Main board state and move generation
  - `cell.ts` - Individual board cell implementation
  - `move.ts` - Move representation and scoring
  - `tile.ts` - Tile representation (regular and blank tiles)

### Key Patterns
1. The solver uses a Trie (prefix tree) for efficient word lookups
2. Moves are generated by examining "anchor squares" - empty cells adjacent to placed tiles
3. The board maintains state about playable letters in both horizontal and vertical directions
4. Scoring accounts for letter multipliers, word multipliers and the 50-point bonus for using 7 tiles

## Development Workflow

### Setup and Build
```bash
npm install        # Install dependencies
npm run dev       # Start dev server
npm run build     # Build for production
```

### Testing
```bash
npm test          # Run tests in watch mode
npm run test-once # Run tests once
npm run coverage  # Run tests with coverage
```

### Key Conventions
1. Test files are stored in the `test/` directory, mirroring the `src/` directory structure (e.g., `src/solver/trie.ts` has its test in `test/solver/trie.test.ts`)
2. Board coordinates use row/column indexing starting from 0 
3. Moves are represented as arrays of TilePlacements with absolute board positions
4. Always validate moves against the dictionary loaded in the Trie

## Common Tasks

### Adding New Features
1. Board interaction features go in `src/game/`
2. Solver optimizations belong in `src/solver/`
3. UI components are React components in root of `src/`
4. Update tests alongside implementation changes

### Testing Strategy
- Unit tests focus on move generation and scoring
- Dictionary validation ensures all generated moves are valid words
- Board state and anchor calculation tests in `board.test.ts`

## Important Files
- `src/game/board.ts` - Core game logic and move generation
- `src/solver/trie.ts` - Dictionary word lookup implementation
- `src/data/dictionary.ts` - Word dictionary used for validation